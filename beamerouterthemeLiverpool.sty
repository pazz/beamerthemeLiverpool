\mode<presentation>

\setbeamertemplate{background}{
  \ifnum\thepage=1\relax%
  \begin{tikzpicture}
  %TITLE PAGE
  \useasboundingbox (0,0) rectangle(\the\paperwidth,\the\paperheight);
  \fill[color=Presentation Blue] (0,0) rectangle (\the\paperwidth,\the\paperheight);
  \path[fill overzoom image=UoL-vg.jpg] (\the\paperwidth*0.66,0) rectangle(\the\paperwidth,\the\paperheight);
  \end{tikzpicture}
   \fi

  % AFTER TITLE PAGE
   %\fill[white,opacity=1] (0,0) rectangle(\the\paperwidth,\the\paperheight);
}


%\addtobeamertemplate{date}{\vskip1cm}{}


% Title page

% draw two bricks
%
% \uolbrick[pos1][pos2][style1][style2]{content1}{content2} % where
% pos1: relative position on node 1 where node 2 is placed
% pos2: anchor of node 2
% style: are additional tikz styles for nodes
% content: text to be placed in the brick.
% Only content is mandatory.
% For example, \uolbrick[south west][north west][red][green]{Red bricks are cool}{Green Brick}
%
\NewDocumentCommand{\uolbricks}{ O{south} O{north west} O{} O{} m m }{
  \begin{tikzpicture}[brick/.style={outer sep=0pt,draw=fg,align=left}]
      \node[brick,anchor=east,#3] (top) at (0,0){#5};
      \node[brick,anchor=#2,#4] (below) at (top.#1){#6};
  \end{tikzpicture}
}

% Draw a single brick
% arguments as above but only style1 and content1
\NewDocumentCommand{\uolbrick}{O{} m }{
  \begin{tikzpicture}[brick/.style={outer sep=0pt,draw=fg,align=left}]
      \node[brick,#1] (top) at (0,0){#2};
  \end{tikzpicture}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% TITLE PAGE
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% TITLE PAGE COLORS
\setbeamercolor*{title}{fg=white}
\setbeamercolor*{date}{fg=white}
\setbeamercolor*{author}{fg=white}
\setbeamercolor*{institute}{fg=white}

% TITLE PAGE LAYOUT
\defbeamertemplate*{title page}{Liverpool}[1][]{%
    \begin{beamercolorbox}{institute}
    % UOL logo top left
    \tikz[baseline=0pt] {
        \node[anchor=west,inner sep=0pt] (X) at (0,0) {
    \includegraphics[width=0.22\paperwidth]{UoL-Logo-White.png}};
    }
    % Department info (short institute) if not emppty top right
    \ifx\beamer@shortinstitute\@empty
      \hfill %X\insertinstituteX\insertshortinstitute
    \else%
     \hfill
      \usebeamerfont{institute}\colorbox{fg}{\mbox{\strut}} \insertshortinstitute
    \fi%     
    \end{beamercolorbox}

   \vskip2cm%
    { % simulate a beamercolorbox but without the extra space
    \usebeamerfont{title}
    \usebeamercolor{title}
    \color{fg}
    %
    % Display title+subtitle as brickpile if subtitle is defined
    \ifx\insertsubtitle\@empty%
        \uolbrick{\inserttitle}\par%
    \else % Display title as single brick otherwise
        \uolbricks[south][north west][font=\bf]{\inserttitle}{\insertsubtitle}
    \fi%
    }
   \vskip0.75cm%
   \vfill
   \begin{beamercolorbox}{author}
     \usebeamerfont{author}\insertauthor%
   \end{beamercolorbox}
   \begin{beamercolorbox}[]{date}
     \usebeamerfont{author}\insertdate%
   \end{beamercolorbox}
}


\defbeamertemplate*{frametitle}{Liverpool}[1][]
{
\vskip0.5cm%
   \ifx\insertframesubtitle\@empty%
      \uolbrick[font=\bf]{\insertframetitle}
   \else%
       \uolbricks[south][north west][font=\bf]{\insertframetitle}{\insertframesubtitle}
   \fi
\vskip0.3cm%
}


\mode<all>
