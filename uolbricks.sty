\mode<all>
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% BRICKS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
\RequirePackage{tikz}
\RequirePackage{xparse}

% set default brick style
\tikzset{
    brick/.style={
      draw=fg,
      line width=0.075em,
      align=left,
      outer sep=0pt,
      text depth=0ex,
      minimum size=3.3ex,
    }
}
% draw two bricks
%
% \uolbrick[pos1][pos2][style1][style2]{content1}{content2} % where
% style1: additional tikz styles for brick 1
% style2: additional tikz styles for brick 2
% pos1: relative position on node 1 where node 2 is placed
% pos2: anchor of node 2
% content: text to be placed in the brick.
% Only content is mandatory.
% For example, \uolbrick[south west][north west][red][green]{Red bricks are cool}{Green Brick}
%
\NewDocumentCommand{\uolbricks}{ O{} O{} O{south} O{north west} m m }{
    \begin{tikzpicture}[baseline]
      \node[brick,anchor=south,#1] (top) at (0,0){#5};
      %\node[red] (X) at (0,0) {X}; % debug: X marks the spot
      \node[brick,anchor=#4,#2] (below) at (top.#3){#6};
  \end{tikzpicture}
}

% Draw a single brick
% arguments as above but only style1 and content1
\NewDocumentCommand{\uolbrick}{O{} m }{
    \begin{tikzpicture}[baseline]
      \node[brick,anchor=south,#1] (top) at (0,0){#2};
      %\node[red] (X) at (0,0) {X}; % debug: X marks the spot
  \end{tikzpicture}

}

\mode<all>
