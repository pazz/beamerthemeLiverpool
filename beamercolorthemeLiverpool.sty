\mode<presentation>

\RequirePackage{xcolor}

% PT COLORS ARE BROKEN AND UNFAITHFUL IN BEAMER!
% https://tex.stackexchange.com/questions/367070/beamer-custom-colors-not-working-as-expected

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% FROM https://www.liverpool.ac.uk/intranet/brand/brand-guidelines/colours/colour-palette/

\definecolor{Black}{RGB}{0,0,0}
\definecolor{Charcoal}{RGB}{51,63,72}
\definecolor{Grey}{RGB}{141,150,149}
\definecolor{Stone}{RGB}{219,219,211}
\definecolor{White}{RGB}{255,255,255}
\definecolor{Dark Green}{RGB}{47,99,83}
\definecolor{Teal Green}{RGB}{0,166,137}
\definecolor{Burgundy}{RGB}{74,48,65}
\definecolor{Pink}{RGB}{239,66,111}
\definecolor{Orange}{RGB}{234,112,75}
\definecolor{Yellow}{RGB}{255,209,0}
\definecolor{Green}{RGB}{75,168,52}
\definecolor{Sky Blue}{RGB}{0,156,221}
\definecolor{Blue}{RGB}{33,43,88}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% OLD COLOUR PALETTE
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\definecolor{Atlantic Blue}{HTML}{031F73}
%{RGB}{32,43,88}
%{HTML}{202b58}
\definecolor{Presentation Blue}{RGB}{36,39,87}
\definecolor{Sunrise Gold}{HTML}{A17700}
\definecolor{Classic Black}{HTML}{1E1E1E}
\definecolor{White}{HTML}{FFFFFF}


% Secondary colours
\definecolor{Deep plum}{HTML}{5C556F}
\definecolor{Violet}{HTML}{6C63A5}
\definecolor{Indigo}{HTML}{7D5787}
\definecolor{Cyan}{HTML}{1295D8}
\definecolor{Regal blue}{HTML}{658BCC}
\definecolor{Turquoise}{HTML}{00A8BD}
\definecolor{Rasberry}{HTML}{DB487E}
\definecolor{Rose}{HTML}{C55265}
\definecolor{Berry}{HTML}{A85959}
\definecolor{Tangerine}{HTML}{FF6F4C}
\definecolor{Pumpkin}{HTML}{F8B05D}
\definecolor{Lemon}{HTML}{FFEC2D}
\definecolor{Lime}{HTML}{8CC947}
\definecolor{Leaf green}{HTML}{00A95C}
\definecolor{Pepper green}{HTML}{48655B}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5

%\setbeamercolor{palette primary}{fg=Orange}
%\setbeamercolor{palette secondary}{fg=Blue}
%\setbeamercolor{palette tertiary}{fg=Rose}
%\setbeamercolor{palette quaternary}{fg=Deep plum}

% title page colours all inherit from "normal text"
\setbeamercolor*{title}{parent=normal text}
\setbeamercolor*{date}{parent=title,bg=}
\setbeamercolor*{author}{parent=title,bg=}
\setbeamercolor*{institute}{parent=title,bg=}

% Titles,subtitles of frames
\setbeamercolor*{titlelike}{use=normal text}

% This prevents the qed box from using structure's colour
\setbeamercolor*{qed symbol}{use=normal text}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% COLOUR COMBINATIONS
%
% https://www.liverpool.ac.uk/intranet/brand/brand-guidelines/colours/colour-combinations-and-accessibility/

% give them names and associate commands
\pgfkeys{/uol/color/style/.cd,
.is choice,
Sky Blue/.code=\uol@color@style@skyblue,
Teal Green/.code=\uol@color@style@teal,
Orange/.code={\uol@color@style@orange},
Grey/.code={\uol@color@style@grey},
Pink/.code={\uol@color@style@pink},
Burgundy/.code={\uol@color@style@burgundy},
Dark Green/.code=\uol@color@style@darkgreen,
Blue/.code=\uol@color@style@blue,
default/.code={\uol@color@style@default},
}

% Define actual colour combinations
\newcommand{\uol@color@style@teal}{
\setbeamercolor*{structure}{fg=Yellow}
\setbeamercolor*{block title}{fg=White}
\setbeamercolor*{block body}{fg=White}
\setbeamercolor*{alerted text}{fg=Blue}
\setbeamercolor*{example text}{fg=Dark Green}
\setbeamercolor*{normal text}{bg=Teal Green,fg=White}
\usebeamercolor[fg]{normal text}
}
\newcommand{\uol@color@style@skyblue}{
\setbeamercolor*{structure}{fg=Yellow}
\setbeamercolor*{block title}{fg=White}
\setbeamercolor*{block body}{fg=White}
\setbeamercolor*{alerted text}{fg=Blue}
\setbeamercolor*{example text}{fg=Dark Green}
\setbeamercolor*{normal text}{bg=Sky Blue,fg=White}
\usebeamercolor[fg]{normal text}
}
\newcommand{\uol@color@style@orange}{
\setbeamercolor*{structure}{fg=Yellow}
\setbeamercolor*{block title}{fg=White}
\setbeamercolor*{block body}{fg=White}
\setbeamercolor*{alerted text}{fg=Blue}
\setbeamercolor*{example text}{fg=Dark Green}
\setbeamercolor*{normal text}{bg=Orange,fg=White}
\usebeamercolor[fg]{normal text}
}
\newcommand{\uol@color@style@grey}{
\setbeamercolor*{structure}{fg=White}
\setbeamercolor*{block title}{fg=White}
\setbeamercolor*{block body}{fg=White}
\setbeamercolor*{alerted text}{fg=Charcoal}
\setbeamercolor*{example text}{fg=Dark Green}
\setbeamercolor*{normal text}{bg=Grey,fg=White}
\usebeamercolor[fg]{normal text}
}
\newcommand{\uol@color@style@pink}{
\setbeamercolor*{structure}{fg=White}
\setbeamercolor*{block title}{fg=White}
\setbeamercolor*{block body}{fg=White}
\setbeamercolor*{alerted text}{fg=Blue}
\setbeamercolor*{example text}{fg=Dark Green}
\setbeamercolor*{normal text}{bg=Pink,fg=White}
\usebeamercolor[fg]{normal text}
}

\newcommand{\uol@color@style@darkgreen}{
\setbeamercolor*{structure}{fg=Yellow}
\setbeamercolor*{block title}{fg=White}
\setbeamercolor*{block body}{fg=White}
\setbeamercolor*{alerted text}{fg=Yellow}
\setbeamercolor*{example text}{fg=Orange}
\setbeamercolor*{normal text}{bg=Dark Green,fg=White}
\usebeamercolor[fg]{normal text}
}
\newcommand{\uol@color@style@burgundy}{
\setbeamercolor*{structure}{fg=White}
\setbeamercolor*{block title}{fg=White}
\setbeamercolor*{block body}{fg=White}
\setbeamercolor*{alerted text}{fg=Orange}
\setbeamercolor*{example text}{fg=Teal Green}
\setbeamercolor*{normal text}{bg=Burgundy,fg=White}
\usebeamercolor[fg]{normal text}
}
\newcommand{\uol@color@style@blue}{
\setbeamercolor*{structure}{fg=White}
\setbeamercolor*{block title}{fg=Sky Blue}
\setbeamercolor*{block body}{fg=White}
\setbeamercolor*{alerted text}{fg=Orange}
\setbeamercolor*{example text}{fg=Teal Green}
\setbeamercolor*{normal text}{bg=Blue,fg=White}
\usebeamercolor[fg]{normal text}
}
\newcommand{\uol@color@style@default}{
\setbeamercolor*{structure}{fg=Sky Blue}
\setbeamercolor*{block title}{fg=Black}
\setbeamercolor*{block body}{fg=Black}
\setbeamercolor*{alerted text}{fg=Pink}
\setbeamercolor*{example text}{fg=Dark Green}
\setbeamercolor*{normal text}{bg=White,fg=Black}
\usebeamercolor[fg]{normal text}
}


\uol@color@style@default
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% COLOUR PROFILES
%
% The implementation follows
% https://tex.stackexchange.com/questions/257300/passing-arguments-to-custom-frame-option
%
% Define uolcolours argument and use it to set the profile
% The code is adapted from the metropolis/moloch theme
\providebool{uol@standout}
\define@key{beamerframe}{uolcolours}{%
  \booltrue{uol@standout}
  \begingroup
   % remember old colour profile in case it is set already and this frame overides it temporarily
  \pgfkeyssetvalue{/uol/color/styleprevious}{\pgfkeysvalueof{/uol/color/stylecurrent}}
  \pgfkeys{/uol/color/style={#1}}
}

\pretocmd{\beamer@reseteecodes}{%
  \ifbool{uol@standout}{ % if frame parameter was used
    \endgroup
    \boolfalse{uol@standout}
    \pgfkeyssetvalue{/uol/color/stylecurrent}{\pgfkeysvalueof{/uol/color/styleprevious}}  % reset colour profile
  }{}
}{}{}


% Macro for quickly overloading colour profiles
\NewDocumentCommand{\uolcolours}{m}{\pgfkeys{/uol/color/style=#1}}
\mode<all>
